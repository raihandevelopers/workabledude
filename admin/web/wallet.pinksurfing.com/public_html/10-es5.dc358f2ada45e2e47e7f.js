function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}function _iterableToArrayLimit(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],o=!0,n=!1,i=void 0;try{for(var c,a=e[Symbol.iterator]();!(o=(c=a.next()).done)&&(r.push(c.value),!t||r.length!==t);o=!0);}catch(s){n=!0,i=s}finally{try{o||null==a.return||a.return()}finally{if(n)throw i}}return r}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{Rxt6:function(e,t,r){"use strict";r.r(t),r.d(t,"SendReceiveModule",(function(){return v}));var o=r("ofXK"),n=r("tyNb"),i=r("3Pt+"),c=r("fXoL"),a=r("qc5V"),s=r("5eHb");function l(e,t){if(1&e&&(c.Tb(0,"option",32),c.Gc(1),c.Sb()),2&e){var r=t.$implicit;c.oc("value",r.symbol),c.Ab(1),c.Ic(" ",r.symbol,"")}}function u(e,t){if(1&e&&(c.Tb(0,"p",33),c.Gc(1),c.Sb()),2&e){var r=c.hc();c.Ab(1),c.Hc(r.buyErrorMessage)}}function b(e,t){if(1&e&&(c.Tb(0,"option",32),c.Gc(1),c.Sb()),2&e){var r=t.$implicit;c.oc("value",r.symbol),c.Ab(1),c.Ic(" ",r.symbol,"")}}function p(e,t){if(1&e&&(c.Tb(0,"p",33),c.Gc(1),c.Sb()),2&e){var r=c.hc();c.Ab(1),c.Hc(r.sellErrorMessage)}}var y,f,d,m=function(e){return{"not-valid-box":e}},h=[{path:"",component:(y=function(){function e(t,r,o,n){_classCallCheck(this,e),this.apiService=t,this.router=r,this.toastr=o,this.fb=n,this.buyForm=this.fb.group({crypto:["BTC",i.t.required],price:["",i.t.required],address:["",i.t.required]}),this.sellForm=this.fb.group({crypto:["BTC",i.t.required],price:["",i.t.required]}),this.cryptoCurrencyList={charts7d:[],cryptos:[],latestmarketData:[],marketData:[],status:""},this.currentCryptoChoosed={circulating_supply:0,cmc_rank:0,date_added:"",id:0,is_active:0,is_fiat:0,last_updated:"",max_supply:0,name:"",num_market_pairs:0,platform:null,qrcode:"",address:"",quote:{bizx:{last_updated:"",market_cap:0,percent_change_1h:0,percent_change_7d:0,percent_change_24h:0,price:0,volume_24h:0}},slug:"",symbol:"",tags:[],total_supply:0,url:""},this.convertedValue=0,this.buySubmitted=!1,this.sellSubmitted=!1,this.buyErrorFlag=!1,this.sellErrorFlag=!1,this.buyFinalamount="",this.EnableSendStatus=!1,this.EnableSection=!0,this.currentCryptoChoosed2={},this.currencySymbolInfo={},this.convertFeeInfo={}}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.apiService.getCryptoList().subscribe((function(t){if("success!"===t.status){for(var r=0;r<t.marketData.length;r++)t.marketData[r].url=t.cryptos[r].url,null!=t.cryptos[r].qrcode&&(t.marketData[r].qrcode=t.cryptos[r].qrcode,t.marketData[r].address=t.cryptos[r].address);e.cryptoCurrencyList=t,e.getFiatBalance(),null==localStorage.getItem("amount")&&null==localStorage.getItem("crypto")?e.getCorrespondingCrypto("BTC"):(e.buyForm.get("crypto").setValue(localStorage.getItem("crypto")),e.getCorrespondingCrypto(localStorage.getItem("crypto").toUpperCase()),e.buyForm.get("price").setValue(localStorage.getItem("amount")))}})),$(".amount-percentage").click((function(){$(".amount-percentage").css({background:"transparent",color:"#3e37cc",border:"1px solid #3e37cc"}),$(this).css({background:"#3e37cc",color:"#fff",border:"1px solid #3e37cc"})}));var t=this;$('[name="buyFormPrice"]').on("keyup",(function(){null!=t.f.price.value?t.f.price.value.toString().length>0&&t.convertPrice(t.f.price.value):t.convertedValue=0})),$('[name="sellFormPrice]').on("keyup",(function(){t.m.price.value.toString().length>0&&t.convertPrice(t.m.price.value)}))}},{key:"buyCrypto",value:function(){var e=this;if(this.buyErrorFlag=!1,this.buySubmitted=!0,!this.buyForm.invalid){var t={value:this.convertedValue,currency:this.f.crypto.value,to:this.f.address.value};this.EnableSendStatus=!0,this.EnableSection=!1,this.apiService.sendCrypto(t).subscribe((function(t){"success"===t.status&&(e.toastr.success(t.message,"Success"),e.router.navigate(["/pages/dashboard"]))}),(function(t){e.toastr.error(t,"Invalid"),e.buyErrorFlag=!0,e.buyErrorMessage=t}))}}},{key:"sellCrypto",value:function(){var e=this;this.sellErrorFlag=!1,this.sellSubmitted=!0,this.sellForm.invalid||this.apiService.sellCrypto({amount:this.m.price.value,crypto:this.m.crypto.value}).subscribe((function(t){"success"===t.status&&e.toastr.success(t.message,"Success")}),(function(t){e.toastr.error(t,"Invalid"),e.sellErrorFlag=!0,e.sellErrorMessage=t}))}},{key:"getCorrespondingCrypto",value:function(e){console.log(e),this.currentCryptoChoosed=this.cryptoCurrencyList.marketData.find((function(t){if(t.symbol===e)return t;console.log(t)})),this.currentCryptoChoosed2=this.cryptoCurrencyList.latestmarketData;for(var t=0,r=Object.entries(this.currentCryptoChoosed2);t<r.length;t++){var o=_slicedToArray(r[t],2),n=o[0],i=o[1];n===e&&(this.currencySymbolInfo=n,this.currencyPriceInfo=i.price,console.log("FAST-CurrencyPriceInfo"+JSON.stringify(this.currencyPriceInfo)),console.log(this.currencyPriceInfo))}this.buyForm.controls.crypto.setValue(this.currentCryptoChoosed.symbol),this.sellForm.controls.crypto.setValue(this.currentCryptoChoosed.symbol),this.convertPrice(this.f.price.value)}},{key:"getCorrespondingCryptoForReceive",value:function(e){console.log(e),this.currentCryptoChoosed=this.cryptoCurrencyList.marketData.find((function(t){if(t.symbol===e)return t})),console.log(this.currentCryptoChoosed)}},{key:"convertPrice",value:function(e){var t=this;""==e&&(e=0),this.apiService.convertPrice({amount:e,from:"USD",to:this.f.crypto.value}).subscribe((function(e){console.log("finalData.."+JSON.stringify(e)),"success"===e.status&&(t.convertedValue=e.toCRYPTO,console.log(t.convertedValue))}))}},{key:"selectCrypto",value:function(e){var t=this;console.log(e),this.cryptoCurrencyList.cryptos.forEach((function(r){r.name===e&&(t.cryptoImg=r.url)})),this.getCorrespondingCrypto(e),this.getFiatBalance()}},{key:"selectCryptoForReceive",value:function(e){var t=this;console.log(e),this.cryptoCurrencyList.cryptos.forEach((function(r){r.name===e&&(t.cryptoImg=r.url)})),this.getCorrespondingCryptoForReceive(e)}},{key:"getFiatBalance",value:function(){var e=this;this.apiService.getFiatBalance().subscribe((function(t){console.log(t),"success"===t.status&&(e.fiatBalance=t.fiatBalance)}))}},{key:"sendtabClick",value:function(){this.getCorrespondingCrypto("BTC")}},{key:"receivetabClick",value:function(){this.getCorrespondingCrypto("BTC")}},{key:"percentageBuyCrypto",value:function(e){this.sellForm.get("price").setValue((e/100*this.fiatBalance).toFixed(0))}},{key:"ngOnDestroy",value:function(){localStorage.removeItem("amount"),localStorage.removeItem("crypto")}},{key:"f",get:function(){return this.buyForm.controls}},{key:"m",get:function(){return this.sellForm.controls}}]),e}(),y.\u0275fac=function(e){return new(e||y)(c.Nb(a.a),c.Nb(n.d),c.Nb(s.b),c.Nb(i.d))},y.\u0275cmp=c.Hb({type:y,selectors:[["app-send-recieve"]],decls:64,vars:21,consts:[["id","buysell",1,"",2,"margin-top","4.5%"],[1,"container"],[1,"heading","text-center","font-fam-titilum-bold","fs-36","pb-4"],[1,"card","bg-white","rounded"],["id","register_tab","role","tablist",1,"nav","nav-pills","mb-3"],["role","presentation",1,"nav-item"],["id","pills-buy-tab","data-toggle","pill","href","#pills-buy","role","tab","aria-controls","pills-buy","aria-selected","true",1,"nav-link","font-fam-titilum-bold","fs-21","active",3,"click"],["id","pills-sell-tab","data-toggle","pill","href","#pills-sell","role","tab","aria-controls","pills-sell","aria-selected","false",1,"nav-link","font-fam-titilum-bold","fs-21",3,"click"],["id","register_tabContent",1,"tab-content"],["id","pills-buy","role","tabpanel","aria-labelledby","pills-buy-tab",1,"tab-pane","fade","show","p-5","active"],["action","",3,"formGroup","ngSubmit"],[1,"text-center"],[1,"col-md-12"],[1,"amount"],[1,"fs-14"],["type","number","formControlName","price","name","buyFormPrice","placeholder","00000",1,"m-auto","heading","font-fam-lat-regular","mb-6",2,"font-size","56px",3,"ngClass"],[1,"mb-0","font-fam-lat-regular","fs-24"],[1,"text-right","mt-5","font-fam-lat-regular","fs-14"],[1,"buy-border","d-flex","align-center","justify-between","border","p-4"],[1,"font-fam-lat-regular","fs-14"],["height","30","width","30 ","alt","",1,"ml-5",3,"src"],["name","","formControlName","crypto","id","",1,"ml-4","border-0","col","text-gray-2","font-fam-lat-regular","fs-14",3,"change"],[3,"value",4,"ngFor","ngForOf"],[1,"buy-border","d-flex","align-center","justify-between","border","border-top-0","p-4"],["type","text","formControlName","address","name","","id","",1,"form-control"],["class","error-message float-left",4,"ngIf"],["type","submit",1,"bg-primary-color","text-center","text-white","border-0","rounded","p-4","mb-4","w-100","mt-4","font-fam-titilum-bold","fs-21"],["id","pills-sell","role","tabpanel","aria-labelledby","pills-sell-tab",1,"tab-pane","p-5","fade"],[1,"font-fam-lat-regular","text-center","fs-14"],[1,"row","justify-content-center"],["alt","","height","200","width","200",1,"text-center","qr-sm",3,"src"],["type","text","disabled","","name","","id","",1,"form-control",3,"value"],[3,"value"],[1,"error-message","float-left"]],template:function(e,t){1&e&&(c.Tb(0,"section",0),c.Tb(1,"div",1),c.Tb(2,"p",2),c.Gc(3,"Send and Receive Cryptocurrency"),c.Sb(),c.Tb(4,"div",3),c.Tb(5,"ul",4),c.Tb(6,"li",5),c.Tb(7,"a",6),c.fc("click",(function(){return t.sendtabClick()})),c.Gc(8,"Send"),c.Sb(),c.Sb(),c.Tb(9,"li",5),c.Tb(10,"a",7),c.fc("click",(function(){return t.receivetabClick()})),c.Gc(11,"Receive"),c.Sb(),c.Sb(),c.Sb(),c.Tb(12,"div",8),c.Tb(13,"div",9),c.Tb(14,"form",10),c.fc("ngSubmit",(function(){return t.buyCrypto()})),c.Tb(15,"div",11),c.Tb(16,"div",12),c.Tb(17,"div",13),c.Tb(18,"span",14),c.Tb(19,"b"),c.Gc(20,"USD"),c.Sb(),c.Sb(),c.Ob(21,"input",15),c.Sb(),c.Sb(),c.Tb(22,"p",16),c.Gc(23),c.ic(24,"number"),c.Sb(),c.Tb(25,"p",17),c.Gc(26),c.ic(27,"number"),c.Tb(28,"span",14),c.Tb(29,"b"),c.Gc(30,"USD"),c.Sb(),c.Sb(),c.Sb(),c.Tb(31,"div",18),c.Tb(32,"b",19),c.Gc(33,"Send"),c.Sb(),c.Ob(34,"img",20),c.Tb(35,"select",21),c.fc("change",(function(){return t.selectCrypto(t.f.crypto.value)})),c.Ec(36,l,2,2,"option",22),c.Sb(),c.Sb(),c.Tb(37,"div",23),c.Tb(38,"b",19),c.Gc(39,"Address"),c.Sb(),c.Ob(40,"input",24),c.Sb(),c.Ec(41,u,2,1,"p",25),c.Tb(42,"button",26),c.Gc(43,"Send"),c.Sb(),c.Sb(),c.Sb(),c.Sb(),c.Tb(44,"div",27),c.Tb(45,"p",28),c.Tb(46,"b"),c.Gc(47,"Scan QR Code"),c.Sb(),c.Sb(),c.Tb(48,"div",29),c.Ob(49,"img",30),c.Sb(),c.Ob(50,"br"),c.Tb(51,"form",10),c.fc("ngSubmit",(function(){return t.sellCrypto()})),c.Tb(52,"div",18),c.Tb(53,"b",19),c.Gc(54,"Receive"),c.Sb(),c.Ob(55,"img",20),c.Tb(56,"select",21),c.fc("change",(function(){return t.selectCryptoForReceive(t.m.crypto.value)})),c.Ec(57,b,2,2,"option",22),c.Sb(),c.Sb(),c.Ec(58,p,2,1,"p",25),c.Tb(59,"div",23),c.Tb(60,"b",19),c.Gc(61,"Address"),c.Sb(),c.Gc(62," \xa0\xa0 "),c.Ob(63,"input",31),c.Sb(),c.Sb(),c.Sb(),c.Sb(),c.Sb(),c.Sb(),c.Sb()),2&e&&(c.Ab(14),c.nc("formGroup",t.buyForm),c.Ab(7),c.nc("ngClass",c.rc(19,m,t.buySubmitted&&t.f.price.errors)),c.Ab(2),c.Jc("~ ",c.jc(24,15,t.convertedValue)," ",t.currentCryptoChoosed.symbol,""),c.Ab(3),c.Jc("Current Price: 1 ",t.currentCryptoChoosed.symbol," = ",c.jc(27,17,t.currencyPriceInfo)," "),c.Ab(8),c.oc("src",t.currentCryptoChoosed.url,c.zc),c.Ab(2),c.nc("ngForOf",t.cryptoCurrencyList.marketData),c.Ab(5),c.nc("ngIf",t.buyErrorFlag),c.Ab(8),c.oc("src",t.currentCryptoChoosed.qrcode,c.zc),c.Ab(2),c.nc("formGroup",t.sellForm),c.Ab(4),c.oc("src",t.currentCryptoChoosed.url,c.zc),c.Ab(2),c.nc("ngForOf",t.cryptoCurrencyList.marketData),c.Ab(1),c.nc("ngIf",t.sellErrorFlag),c.Ab(5),c.oc("value",t.currentCryptoChoosed.address))},directives:[i.v,i.l,i.f,i.p,i.c,i.k,i.e,o.l,i.s,o.m,o.n,i.o,i.u],pipes:[o.e],styles:["input[name=buyFormPrice][_ngcontent-%COMP%]{width:398px!important;text-align:center}"]}),y)}],g=((d=function e(){_classCallCheck(this,e)}).\u0275mod=c.Lb({type:d}),d.\u0275inj=c.Kb({factory:function(e){return new(e||d)},imports:[[n.g.forChild(h)],n.g]}),d),v=((f=function e(){_classCallCheck(this,e)}).\u0275mod=c.Lb({type:f}),f.\u0275inj=c.Kb({factory:function(e){return new(e||f)},providers:[s.b],imports:[[o.b,g,i.q,s.a.forRoot({timeOut:1e4,positionClass:"toast-bottom-right",preventDuplicates:!0}),i.g]]}),f)}}]);