(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{Rxt6:function(t,e,r){"use strict";r.r(e),r.d(e,"SendReceiveModule",(function(){return h}));var o=r("ofXK"),s=r("tyNb"),c=r("3Pt+"),i=r("fXoL"),n=r("qc5V"),a=r("5eHb");function l(t,e){if(1&t&&(i.Tb(0,"option",32),i.Gc(1),i.Sb()),2&t){const t=e.$implicit;i.oc("value",t.symbol),i.Ab(1),i.Ic(" ",t.symbol,"")}}function b(t,e){if(1&t&&(i.Tb(0,"p",33),i.Gc(1),i.Sb()),2&t){const t=i.hc();i.Ab(1),i.Hc(t.buyErrorMessage)}}function u(t,e){if(1&t&&(i.Tb(0,"option",32),i.Gc(1),i.Sb()),2&t){const t=e.$implicit;i.oc("value",t.symbol),i.Ab(1),i.Ic(" ",t.symbol,"")}}function p(t,e){if(1&t&&(i.Tb(0,"p",33),i.Gc(1),i.Sb()),2&t){const t=i.hc();i.Ab(1),i.Hc(t.sellErrorMessage)}}const d=function(t){return{"not-valid-box":t}},m=[{path:"",component:(()=>{class t{constructor(t,e,r,o){this.apiService=t,this.router=e,this.toastr=r,this.fb=o,this.buyForm=this.fb.group({crypto:["BTC",c.t.required],price:["",c.t.required],address:["",c.t.required]}),this.sellForm=this.fb.group({crypto:["BTC",c.t.required],price:["",c.t.required]}),this.cryptoCurrencyList={charts7d:[],cryptos:[],latestmarketData:[],marketData:[],status:""},this.currentCryptoChoosed={circulating_supply:0,cmc_rank:0,date_added:"",id:0,is_active:0,is_fiat:0,last_updated:"",max_supply:0,name:"",num_market_pairs:0,platform:null,qrcode:"",address:"",quote:{bizx:{last_updated:"",market_cap:0,percent_change_1h:0,percent_change_7d:0,percent_change_24h:0,price:0,volume_24h:0}},slug:"",symbol:"",tags:[],total_supply:0,url:""},this.convertedValue=0,this.buySubmitted=!1,this.sellSubmitted=!1,this.buyErrorFlag=!1,this.sellErrorFlag=!1,this.buyFinalamount="",this.EnableSendStatus=!1,this.EnableSection=!0,this.currentCryptoChoosed2={},this.currencySymbolInfo={},this.convertFeeInfo={}}get f(){return this.buyForm.controls}get m(){return this.sellForm.controls}ngOnInit(){this.apiService.getCryptoList().subscribe(t=>{if("success!"===t.status){for(let e=0;e<t.marketData.length;e++)t.marketData[e].url=t.cryptos[e].url,null!=t.cryptos[e].qrcode&&(t.marketData[e].qrcode=t.cryptos[e].qrcode,t.marketData[e].address=t.cryptos[e].address);this.cryptoCurrencyList=t,this.getFiatBalance(),null==localStorage.getItem("amount")&&null==localStorage.getItem("crypto")?this.getCorrespondingCrypto("BTC"):(this.buyForm.get("crypto").setValue(localStorage.getItem("crypto")),this.getCorrespondingCrypto(localStorage.getItem("crypto").toUpperCase()),this.buyForm.get("price").setValue(localStorage.getItem("amount")))}}),$(".amount-percentage").click((function(){$(".amount-percentage").css({background:"transparent",color:"#3e37cc",border:"1px solid #3e37cc"}),$(this).css({background:"#3e37cc",color:"#fff",border:"1px solid #3e37cc"})}));const t=this;$('[name="buyFormPrice"]').on("keyup",(function(){null!=t.f.price.value?t.f.price.value.toString().length>0&&t.convertPrice(t.f.price.value):t.convertedValue=0})),$('[name="sellFormPrice]').on("keyup",(function(){t.m.price.value.toString().length>0&&t.convertPrice(t.m.price.value)}))}buyCrypto(){if(this.buyErrorFlag=!1,this.buySubmitted=!0,this.buyForm.invalid)return;const t={value:this.convertedValue,currency:this.f.crypto.value,to:this.f.address.value};this.EnableSendStatus=!0,this.EnableSection=!1,this.apiService.sendCrypto(t).subscribe(t=>{"success"===t.status&&(this.toastr.success(t.message,"Success"),this.router.navigate(["/pages/dashboard"]))},t=>{this.toastr.error(t,"Invalid"),this.buyErrorFlag=!0,this.buyErrorMessage=t})}sellCrypto(){this.sellErrorFlag=!1,this.sellSubmitted=!0,this.sellForm.invalid||this.apiService.sellCrypto({amount:this.m.price.value,crypto:this.m.crypto.value}).subscribe(t=>{"success"===t.status&&this.toastr.success(t.message,"Success")},t=>{this.toastr.error(t,"Invalid"),this.sellErrorFlag=!0,this.sellErrorMessage=t})}getCorrespondingCrypto(t){console.log(t),this.currentCryptoChoosed=this.cryptoCurrencyList.marketData.find(e=>{if(e.symbol===t)return e;console.log(e)}),this.currentCryptoChoosed2=this.cryptoCurrencyList.latestmarketData;for(const[e,r]of Object.entries(this.currentCryptoChoosed2))e===t&&(this.currencySymbolInfo=e,this.currencyPriceInfo=r.price,console.log("FAST-CurrencyPriceInfo"+JSON.stringify(this.currencyPriceInfo)),console.log(this.currencyPriceInfo));this.buyForm.controls.crypto.setValue(this.currentCryptoChoosed.symbol),this.sellForm.controls.crypto.setValue(this.currentCryptoChoosed.symbol),this.convertPrice(this.f.price.value)}getCorrespondingCryptoForReceive(t){console.log(t),this.currentCryptoChoosed=this.cryptoCurrencyList.marketData.find(e=>{if(e.symbol===t)return e}),console.log(this.currentCryptoChoosed)}convertPrice(t){""==t&&(t=0),this.apiService.convertPrice({amount:t,from:"USD",to:this.f.crypto.value}).subscribe(t=>{console.log("finalData.."+JSON.stringify(t)),"success"===t.status&&(this.convertedValue=t.toCRYPTO,console.log(this.convertedValue))})}selectCrypto(t){console.log(t),this.cryptoCurrencyList.cryptos.forEach(e=>{e.name===t&&(this.cryptoImg=e.url)}),this.getCorrespondingCrypto(t),this.getFiatBalance()}selectCryptoForReceive(t){console.log(t),this.cryptoCurrencyList.cryptos.forEach(e=>{e.name===t&&(this.cryptoImg=e.url)}),this.getCorrespondingCryptoForReceive(t)}getFiatBalance(){this.apiService.getFiatBalance().subscribe(t=>{console.log(t),"success"===t.status&&(this.fiatBalance=t.fiatBalance)})}sendtabClick(){this.getCorrespondingCrypto("BTC")}receivetabClick(){this.getCorrespondingCrypto("BTC")}percentageBuyCrypto(t){this.sellForm.get("price").setValue((t/100*this.fiatBalance).toFixed(0))}ngOnDestroy(){localStorage.removeItem("amount"),localStorage.removeItem("crypto")}}return t.\u0275fac=function(e){return new(e||t)(i.Nb(n.a),i.Nb(s.d),i.Nb(a.b),i.Nb(c.d))},t.\u0275cmp=i.Hb({type:t,selectors:[["app-send-recieve"]],decls:64,vars:21,consts:[["id","buysell",1,"",2,"margin-top","4.5%"],[1,"container"],[1,"heading","text-center","font-fam-titilum-bold","fs-36","pb-4"],[1,"card","bg-white","rounded"],["id","register_tab","role","tablist",1,"nav","nav-pills","mb-3"],["role","presentation",1,"nav-item"],["id","pills-buy-tab","data-toggle","pill","href","#pills-buy","role","tab","aria-controls","pills-buy","aria-selected","true",1,"nav-link","font-fam-titilum-bold","fs-21","active",3,"click"],["id","pills-sell-tab","data-toggle","pill","href","#pills-sell","role","tab","aria-controls","pills-sell","aria-selected","false",1,"nav-link","font-fam-titilum-bold","fs-21",3,"click"],["id","register_tabContent",1,"tab-content"],["id","pills-buy","role","tabpanel","aria-labelledby","pills-buy-tab",1,"tab-pane","fade","show","p-5","active"],["action","",3,"formGroup","ngSubmit"],[1,"text-center"],[1,"col-md-12"],[1,"amount"],[1,"fs-14"],["type","number","formControlName","price","name","buyFormPrice","placeholder","00000",1,"m-auto","heading","font-fam-lat-regular","mb-6",2,"font-size","56px",3,"ngClass"],[1,"mb-0","font-fam-lat-regular","fs-24"],[1,"text-right","mt-5","font-fam-lat-regular","fs-14"],[1,"buy-border","d-flex","align-center","justify-between","border","p-4"],[1,"font-fam-lat-regular","fs-14"],["height","30","width","30 ","alt","",1,"ml-5",3,"src"],["name","","formControlName","crypto","id","",1,"ml-4","border-0","col","text-gray-2","font-fam-lat-regular","fs-14",3,"change"],[3,"value",4,"ngFor","ngForOf"],[1,"buy-border","d-flex","align-center","justify-between","border","border-top-0","p-4"],["type","text","formControlName","address","name","","id","",1,"form-control"],["class","error-message float-left",4,"ngIf"],["type","submit",1,"bg-primary-color","text-center","text-white","border-0","rounded","p-4","mb-4","w-100","mt-4","font-fam-titilum-bold","fs-21"],["id","pills-sell","role","tabpanel","aria-labelledby","pills-sell-tab",1,"tab-pane","p-5","fade"],[1,"font-fam-lat-regular","text-center","fs-14"],[1,"row","justify-content-center"],["alt","","height","200","width","200",1,"text-center","qr-sm",3,"src"],["type","text","disabled","","name","","id","",1,"form-control",3,"value"],[3,"value"],[1,"error-message","float-left"]],template:function(t,e){1&t&&(i.Tb(0,"section",0),i.Tb(1,"div",1),i.Tb(2,"p",2),i.Gc(3,"Send and Receive Cryptocurrency"),i.Sb(),i.Tb(4,"div",3),i.Tb(5,"ul",4),i.Tb(6,"li",5),i.Tb(7,"a",6),i.fc("click",(function(){return e.sendtabClick()})),i.Gc(8,"Send"),i.Sb(),i.Sb(),i.Tb(9,"li",5),i.Tb(10,"a",7),i.fc("click",(function(){return e.receivetabClick()})),i.Gc(11,"Receive"),i.Sb(),i.Sb(),i.Sb(),i.Tb(12,"div",8),i.Tb(13,"div",9),i.Tb(14,"form",10),i.fc("ngSubmit",(function(){return e.buyCrypto()})),i.Tb(15,"div",11),i.Tb(16,"div",12),i.Tb(17,"div",13),i.Tb(18,"span",14),i.Tb(19,"b"),i.Gc(20,"USD"),i.Sb(),i.Sb(),i.Ob(21,"input",15),i.Sb(),i.Sb(),i.Tb(22,"p",16),i.Gc(23),i.ic(24,"number"),i.Sb(),i.Tb(25,"p",17),i.Gc(26),i.ic(27,"number"),i.Tb(28,"span",14),i.Tb(29,"b"),i.Gc(30,"USD"),i.Sb(),i.Sb(),i.Sb(),i.Tb(31,"div",18),i.Tb(32,"b",19),i.Gc(33,"Send"),i.Sb(),i.Ob(34,"img",20),i.Tb(35,"select",21),i.fc("change",(function(){return e.selectCrypto(e.f.crypto.value)})),i.Ec(36,l,2,2,"option",22),i.Sb(),i.Sb(),i.Tb(37,"div",23),i.Tb(38,"b",19),i.Gc(39,"Address"),i.Sb(),i.Ob(40,"input",24),i.Sb(),i.Ec(41,b,2,1,"p",25),i.Tb(42,"button",26),i.Gc(43,"Send"),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Tb(44,"div",27),i.Tb(45,"p",28),i.Tb(46,"b"),i.Gc(47,"Scan QR Code"),i.Sb(),i.Sb(),i.Tb(48,"div",29),i.Ob(49,"img",30),i.Sb(),i.Ob(50,"br"),i.Tb(51,"form",10),i.fc("ngSubmit",(function(){return e.sellCrypto()})),i.Tb(52,"div",18),i.Tb(53,"b",19),i.Gc(54,"Receive"),i.Sb(),i.Ob(55,"img",20),i.Tb(56,"select",21),i.fc("change",(function(){return e.selectCryptoForReceive(e.m.crypto.value)})),i.Ec(57,u,2,2,"option",22),i.Sb(),i.Sb(),i.Ec(58,p,2,1,"p",25),i.Tb(59,"div",23),i.Tb(60,"b",19),i.Gc(61,"Address"),i.Sb(),i.Gc(62," \xa0\xa0 "),i.Ob(63,"input",31),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Sb()),2&t&&(i.Ab(14),i.nc("formGroup",e.buyForm),i.Ab(7),i.nc("ngClass",i.rc(19,d,e.buySubmitted&&e.f.price.errors)),i.Ab(2),i.Jc("~ ",i.jc(24,15,e.convertedValue)," ",e.currentCryptoChoosed.symbol,""),i.Ab(3),i.Jc("Current Price: 1 ",e.currentCryptoChoosed.symbol," = ",i.jc(27,17,e.currencyPriceInfo)," "),i.Ab(8),i.oc("src",e.currentCryptoChoosed.url,i.zc),i.Ab(2),i.nc("ngForOf",e.cryptoCurrencyList.marketData),i.Ab(5),i.nc("ngIf",e.buyErrorFlag),i.Ab(8),i.oc("src",e.currentCryptoChoosed.qrcode,i.zc),i.Ab(2),i.nc("formGroup",e.sellForm),i.Ab(4),i.oc("src",e.currentCryptoChoosed.url,i.zc),i.Ab(2),i.nc("ngForOf",e.cryptoCurrencyList.marketData),i.Ab(1),i.nc("ngIf",e.sellErrorFlag),i.Ab(5),i.oc("value",e.currentCryptoChoosed.address))},directives:[c.v,c.l,c.f,c.p,c.c,c.k,c.e,o.l,c.s,o.m,o.n,c.o,c.u],pipes:[o.e],styles:["input[name=buyFormPrice][_ngcontent-%COMP%]{width:398px!important;text-align:center}"]}),t})()}];let y=(()=>{class t{}return t.\u0275mod=i.Lb({type:t}),t.\u0275inj=i.Kb({factory:function(e){return new(e||t)},imports:[[s.g.forChild(m)],s.g]}),t})(),h=(()=>{class t{}return t.\u0275mod=i.Lb({type:t}),t.\u0275inj=i.Kb({factory:function(e){return new(e||t)},providers:[a.b],imports:[[o.b,y,c.q,a.a.forRoot({timeOut:1e4,positionClass:"toast-bottom-right",preventDuplicates:!0}),c.g]]}),t})()}}]);