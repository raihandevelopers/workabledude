(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{vYsr:function(e,t,r){"use strict";r.r(t),r.d(t,"BuySellModule",(function(){return g}));var o=r("ofXK"),c=r("tyNb"),s=r("mrSG"),i=r("3Pt+"),l=r("EVdn"),n=r("fXoL"),a=r("qc5V"),u=r("5eHb");function b(e,t){if(1&e&&(n.Tb(0,"option",41),n.Gc(1),n.Sb()),2&e){const e=t.$implicit;n.oc("value",e.symbol),n.Ab(1),n.Ic(" ",e.symbol,"")}}function p(e,t){if(1&e&&(n.Tb(0,"p",42),n.Gc(1),n.Sb()),2&e){const e=n.hc();n.Ab(1),n.Hc(e.buyErrorMessage)}}function y(e,t){if(1&e&&(n.Tb(0,"option",41),n.Gc(1),n.Sb()),2&e){const e=t.$implicit;n.oc("value",e.symbol),n.Ab(1),n.Hc(e.symbol)}}function d(e,t){if(1&e&&(n.Tb(0,"p",42),n.Gc(1),n.Sb()),2&e){const e=n.hc();n.Ab(1),n.Hc(e.sellErrorMessage)}}const m=function(e){return{"not-valid-box":e}},f=[{path:"",component:(()=>{class e{constructor(e,t,r,o){this.apiService=e,this.router=t,this.toastr=r,this.fb=o,this.buyForm=this.fb.group({crypto:["BTC",i.t.required],price:["",i.t.required]}),this.sellForm=this.fb.group({crypto:["BTC",i.t.required],price:["",i.t.required]}),this.cryptoCurrencyList={charts7d:[],cryptos:[],latestmarketData:[],marketData:[],status:""},this.cryptoCurrencyListForSell={walletInfo:[],totalAssetBalance:0,crypto:[]},this.currentCryptoChoosed={address:"",circulating_supply:0,cmc_rank:0,date_added:"",id:0,is_active:0,is_fiat:0,last_updated:"",max_supply:0,name:"",num_market_pairs:0,platform:null,cryptoWalletprice:0,quote:{bizx:{last_updated:"",market_cap:0,percent_change_1h:0,percent_change_7d:0,percent_change_24h:0,price:0,volume_24h:0}},slug:"",symbol:"",tags:[],total_supply:0,url:""},this.convertedValue=0,this.buySubmitted=!1,this.sellSubmitted=!1,this.buyErrorFlag=!1,this.sellErrorFlag=!1,this.currentCryptoChoosed2={},this.currencySymbolInfo={},this.convertFeeInfo={}}get f(){return this.buyForm.controls}get m(){return this.sellForm.controls}ngOnInit(){return Object(s.a)(this,void 0,void 0,(function*(){this.apiService.userDetails().subscribe(e=>{this.userDetails=e,console.log(this.userDetails),console.log(this.userDetails.userInfo.country)}),yield this.apiService.getWalletBalance().subscribe(e=>{"success"===e.status&&(this.cryptoCurrencyListForSell=e,this.apiService.getCryptoList().subscribe(e=>{if("success!"===e.status){for(let t=0;t<e.marketData.length;t++)e.marketData[t].url=e.cryptos[t].url,null!=e.cryptos[t].qrcode&&(e.marketData[t].qrcode=e.cryptos[t].qrcode,e.marketData[t].address=e.cryptos[t].address,this.address=e.cryptos[t].address),e.marketData[t].cryptoWalletprice=this.cryptoCurrencyListForSell.crypto[t].wallet;this.cryptoCurrencyList=e,this.getFiatBalance(),void 0!==localStorage.getItem("amount")&&null!==localStorage.getItem("amount")||void 0!==localStorage.getItem("crypto")&&null!==localStorage.getItem("crypto")?(this.buyForm.get("crypto").setValue(localStorage.getItem("crypto")),this.getCorrespondingCrypto(localStorage.getItem("crypto").toUpperCase()),this.buyForm.get("price").setValue(localStorage.getItem("amount"))):this.getCorrespondingCrypto("BTC")}}))}),l(".amount-percentage").click((function(){l(".amount-percentage").css({background:"transparent",color:"#3e37cc",border:"1px solid #3e37cc"}),l(this).css({background:"#3e37cc",color:"#fff",border:"1px solid #3e37cc"})}));const e=this;l('[name="buyFormPrice"]').on("keyup",(function(){null!=e.f.price.value?e.f.price.value.toString().length>0&&e.convertPrice(e.f.price.value):e.convertedValue=0})),l('[name="sellFormPrice"]').on("keyup",(function(){null!=e.m.price.value?e.m.price.value.toString().length>0&&e.convertPriceForSell(e.m.price.value):e.convertedValue=0}))}))}buyCrypto(){if(this.buyErrorFlag=!1,this.buySubmitted=!0,this.buyForm.invalid)return;const e={sourceAmount:this.f.price.value,currency:this.f.crypto.value,address:this.currentCryptoChoosed.address,paymentMethod:"debit-card",country:this.userDetails.userInfo.countrycode};console.log("finalData",e),this.apiService.buyCrypto(e).subscribe(e=>{console.log(e.result.redirectUrl),this.Url=e.result.redirectUrl,window.open(this.Url,"_blank")},e=>{this.toastr.error(e,"Invalid"),this.buyErrorFlag=!0,this.buyErrorMessage=e})}sellCrypto(){this.sellErrorFlag=!1,this.sellSubmitted=!0,this.sellForm.invalid||this.apiService.sellCrypto({amount:this.m.price.value,crypto:this.m.crypto.value}).subscribe(e=>{"success"===e.status&&this.toastr.success(e.message,"Success")},e=>{this.toastr.error(e,"Invalid"),this.sellErrorFlag=!0,this.sellErrorMessage=e})}getCorrespondingCrypto(e){console.log(e),this.currentCryptoChoosed=this.cryptoCurrencyList.marketData.find(t=>{if(t.symbol===e)return t;console.log(t),console.log(this.currentCryptoChoosed)}),this.currentCryptoChoosed2=this.cryptoCurrencyList.latestmarketData;for(const[t,r]of Object.entries(this.currentCryptoChoosed2))t===e&&(this.currencySymbolInfo=t,this.currencyPriceInfo=r.price,console.log("FAST-CurrencyPriceInfo"+JSON.stringify(this.currencyPriceInfo)),console.log(this.currencyPriceInfo));null!=this.currentCryptoChoosed&&(this.buyForm.controls.crypto.setValue(this.currentCryptoChoosed.symbol),this.sellForm.controls.crypto.setValue(this.currentCryptoChoosed.symbol),this.convertPrice(this.f.price.value))}getCorrespondingCryptoForReceive(e){console.log(e),this.currentCryptoChoosed=this.cryptoCurrencyList.marketData.find(t=>{if(t.symbol===e)return t}),console.log(this.currentCryptoChoosed)}convertPrice(e){""==e&&(e="0"),this.apiService.convertPrice({amount:e,from:"USD",to:this.f.crypto.value}).subscribe(e=>{"success"===e.status&&(this.convertedValue=e.buyFinalValue,console.log(this.convertedValue))})}convertPriceForSell(e){this.apiService.convertPrice({amount:e,from:this.m.crypto.value,to:"bizx "}).subscribe(e=>{"success"===e.status&&(this.convertedValue=e.sellFinalValue,console.log(this.convertedValue))})}selectCrypto(e){console.log(e),this.cryptoCurrencyList.cryptos.forEach(t=>{t.name===e&&(this.cryptoImg=t.url)}),this.getCorrespondingCrypto(e),this.getFiatBalance()}selectCryptoForReceive(e){console.log(e),this.cryptoCurrencyList.cryptos.forEach(t=>{t.name===e&&(this.cryptoImg=t.url)}),this.getCorrespondingCryptoForReceive(e),this.getFiatBalance()}getFiatBalance(){this.apiService.getFiatBalance().subscribe(e=>{console.log(e),"success"===e.status&&(this.fiatBalance=e.fiatBalance)})}percentageBuyCrypto(e){0!==this.currentCryptoChoosed.cryptoWalletprice&&(this.sellForm.get("price").setValue((this.currentCryptoChoosed.cryptoWalletprice/100*e).toFixed(3)),this.convertPriceForSell(this.m.price.value))}buyTabClick(){this.convertedValue=0,this.getCorrespondingCrypto("BTC")}sellTabClick(){this.convertedValue=0,this.getCorrespondingCrypto("BTC")}ngOnDestroy(){localStorage.removeItem("amount"),localStorage.removeItem("crypto")}}return e.\u0275fac=function(t){return new(t||e)(n.Nb(a.a),n.Nb(c.d),n.Nb(u.b),n.Nb(i.d))},e.\u0275cmp=n.Hb({type:e,selectors:[["app-buy-sell"]],decls:96,vars:36,consts:[["id","buysell",1,"",2,"margin-top","4.5%"],[1,"container"],[1,"heading","text-center","font-fam-titilum-bold","fs-36","pb-4"],[1,"card","bg-white","rounded"],["id","register_tab","role","tablist",1,"nav","nav-pills","mb-3"],["role","presentation",1,"nav-item"],["id","pills-buy-tab","data-toggle","pill","href","#pills-buy","role","tab","aria-controls","pills-buy","aria-selected","true",1,"nav-link","font-fam-titilum-bold","fs-21","active",3,"click"],["id","register_tabContent",1,"tab-content"],["id","pills-buy","role","tabpanel","aria-labelledby","pills-buy-tab",1,"tab-pane","fade","show","p-5","active"],["action","",3,"formGroup","ngSubmit"],[1,"text-center"],[1,"amount"],[1,"fs-14"],["type","text","formControlName","price","name","buyFormPrice","placeholder","00000",1,"m-auto","heading","font-fam-lat-regular",2,"font-size","56px",3,"ngClass"],[1,"mb-0","font-fam-lat-regular","fs-24"],[1,"text-right","mt-5","font-fam-lat-regular","fs-14"],[1,"buy-border","d-flex","align-center","justify-between","border","p-4"],[1,"font-fam-lat-regular","fs-14"],["height","30","width","30 ","alt","",1,"ml-5",3,"src"],["name","","formControlName","crypto","id","",1,"ml-4","border-0","col","text-gray-2","font-fam-lat-regular","fs-14",3,"change"],[3,"value",4,"ngFor","ngForOf"],[1,"buy-border","d-flex","align-center","justify-between","border","border-top-0","p-4"],["type","text","disabled","","name","","id","",1,"form-control",3,"value"],[1,"mb-0","text-gray-2","font-fam-lat-regular","fs-14"],[1,"ml-4","mb-0","text-gray-2","font-fam-lat-regular","fs-14"],["class","error-message float-left",4,"ngIf"],["type","submit",1,"bg-primary-color","text-center","text-white","border-0","rounded","p-4","mb-4","w-100","mt-4","font-fam-titilum-bold","fs-21"],["id","pills-sell","role","tabpanel","aria-labelledby","pills-sell-tab",1,"tab-pane","p-5","fade"],[1,"d-flex","mb-4"],["type","text","formControlName","price","name","sellFormPrice","placeholder","Amount",1,"border","col","p-30","font-fam-lat-regular","fs-14",3,"ngClass"],[1,"buy-border","d-flex","align-center","justify-between","border","p-2"],["name","","id","","formControlName","crypto",1,"ml-4","border-0","col","text-gray-2","font-fam-lat-regular","fs-14",3,"change"],[1,"d-flex","justify-between","mb-5","d-flex-sm"],[1,"amount-percentage",3,"click"],[1,"text-gray-2","font-fam-lat-regular","fs-12"],[1,"primary-color-bl"],[1,"fs-14","mb-0","font-fam-lat-regular","fs-14"],[1,"d-flex"],["type","text","disabled","","placeholder","Amount",1,"border","col","p-30","font-fam-lat-regular","fs-14",3,"value"],["name","","id","",1,"border","border-left-0","col-3","text-gray-2","font-fam-lat-regular","fs-14"],["value",""],[3,"value"],[1,"error-message","float-left"]],template:function(e,t){1&e&&(n.Tb(0,"section",0),n.Tb(1,"div",1),n.Tb(2,"p",2),n.Gc(3,"Buy and Sell Cryptocurrency"),n.Sb(),n.Tb(4,"div",3),n.Tb(5,"ul",4),n.Tb(6,"li",5),n.Tb(7,"a",6),n.fc("click",(function(){return t.buyTabClick()})),n.Gc(8,"Buy"),n.Sb(),n.Sb(),n.Sb(),n.Tb(9,"div",7),n.Tb(10,"div",8),n.Tb(11,"form",9),n.fc("ngSubmit",(function(){return t.buyCrypto()})),n.Tb(12,"div",10),n.Tb(13,"div",11),n.Tb(14,"span",12),n.Tb(15,"b"),n.Gc(16,"USD "),n.Sb(),n.Sb(),n.Ob(17,"input",13),n.Sb(),n.Tb(18,"p",14),n.Gc(19),n.ic(20,"number"),n.Sb(),n.Tb(21,"p",15),n.Gc(22),n.ic(23,"number"),n.Tb(24,"span",12),n.Tb(25,"b"),n.Gc(26,"USD "),n.Sb(),n.Sb(),n.Sb(),n.Tb(27,"div",16),n.Tb(28,"b",17),n.Gc(29,"Buy"),n.Sb(),n.Ob(30,"img",18),n.Tb(31,"select",19),n.fc("change",(function(){return t.selectCrypto(t.f.crypto.value)})),n.Ec(32,b,2,2,"option",20),n.Sb(),n.Sb(),n.Tb(33,"div",21),n.Tb(34,"b",17),n.Gc(35,"Address"),n.Sb(),n.Gc(36," \xa0\xa0 "),n.Ob(37,"input",22),n.Sb(),n.Tb(38,"div",21),n.Tb(39,"b",17),n.Gc(40,"Pay with"),n.Sb(),n.Tb(41,"p",23),n.Gc(42,"Cash Wallet"),n.Sb(),n.Tb(43,"p",24),n.Gc(44),n.ic(45,"number"),n.Sb(),n.Sb(),n.Ec(46,p,2,1,"p",25),n.Tb(47,"button",26),n.Gc(48,"Buy"),n.Sb(),n.Sb(),n.Sb(),n.Sb(),n.Tb(49,"div",27),n.Tb(50,"p",17),n.Tb(51,"b"),n.Gc(52,"I want to sell"),n.Sb(),n.Sb(),n.Tb(53,"form",9),n.fc("ngSubmit",(function(){return t.sellCrypto()})),n.Tb(54,"div",28),n.Ob(55,"input",29),n.Tb(56,"div",30),n.Ob(57,"img",18),n.Tb(58,"select",31),n.fc("change",(function(){return t.selectCrypto(t.m.crypto.value)})),n.Ec(59,y,2,2,"option",20),n.Sb(),n.Sb(),n.Sb(),n.Tb(60,"div",32),n.Tb(61,"div"),n.Tb(62,"p"),n.Tb(63,"span",33),n.fc("click",(function(){return t.percentageBuyCrypto("25")})),n.Gc(64,"25%"),n.Sb(),n.Gc(65,"\xa0 "),n.Tb(66,"span",33),n.fc("click",(function(){return t.percentageBuyCrypto("50")})),n.Gc(67,"50%"),n.Sb(),n.Gc(68,"\xa0 "),n.Tb(69,"span",33),n.fc("click",(function(){return t.percentageBuyCrypto("75")})),n.Gc(70,"75%"),n.Sb(),n.Gc(71,"\xa0 "),n.Tb(72,"span",33),n.fc("click",(function(){return t.percentageBuyCrypto("100")})),n.Gc(73,"100%"),n.Sb(),n.Sb(),n.Tb(74,"small",34),n.Gc(75,"Available balance: "),n.Tb(76,"span",35),n.Gc(77),n.Sb(),n.Sb(),n.Sb(),n.Tb(78,"p",36),n.Gc(79),n.ic(80,"number"),n.Tb(81,"span",12),n.Tb(82,"b"),n.Gc(83,"USD "),n.Sb(),n.Sb(),n.Sb(),n.Sb(),n.Tb(84,"p",17),n.Tb(85,"b"),n.Gc(86,"You will receive"),n.Sb(),n.Sb(),n.Tb(87,"div",37),n.Ob(88,"input",38),n.ic(89,"number"),n.Tb(90,"select",39),n.Tb(91,"option",40),n.Gc(92,"USD "),n.Sb(),n.Sb(),n.Sb(),n.Ec(93,d,2,1,"p",25),n.Tb(94,"button",26),n.Gc(95,"Sell"),n.Sb(),n.Sb(),n.Sb(),n.Sb(),n.Sb(),n.Sb(),n.Sb()),2&e&&(n.Ab(11),n.nc("formGroup",t.buyForm),n.Ab(6),n.nc("ngClass",n.rc(32,m,t.buySubmitted&&t.f.price.errors)),n.Ab(2),n.Jc("~ ",n.kc(20,21,t.convertedValue,"1.0-5")," ",t.currentCryptoChoosed.symbol,""),n.Ab(3),n.Jc("Current Price: 1 ",t.currentCryptoChoosed.symbol," = ",n.jc(23,24,t.currencyPriceInfo)," "),n.Ab(8),n.oc("src",t.currentCryptoChoosed.url,n.zc),n.Ab(2),n.nc("ngForOf",t.cryptoCurrencyList.marketData),n.Ab(5),n.oc("value",t.currentCryptoChoosed.address),n.Ab(7),n.Ic("",n.jc(45,26,t.fiatBalance)," USD "),n.Ab(2),n.nc("ngIf",t.buyErrorFlag),n.Ab(7),n.nc("formGroup",t.sellForm),n.Ab(2),n.nc("ngClass",n.rc(34,m,t.sellSubmitted&&t.m.price.errors)),n.Ab(2),n.oc("src",t.currentCryptoChoosed.url,n.zc),n.Ab(2),n.nc("ngForOf",t.cryptoCurrencyList.marketData),n.Ab(18),n.Jc("",t.currentCryptoChoosed.cryptoWalletprice," ",t.currentCryptoChoosed.symbol,""),n.Ab(2),n.Jc("Current Price: 1 ",t.currencySymbolInfo," = ",n.jc(80,28,t.currencyPriceInfo)," "),n.Ab(9),n.oc("value",n.jc(89,30,t.convertedValue)),n.Ab(5),n.nc("ngIf",t.sellErrorFlag))},directives:[i.v,i.l,i.f,i.c,i.k,i.e,o.l,i.s,o.m,o.n,i.o,i.u],pipes:[o.e],styles:["[_nghost-%COMP%]{font-size:1.6rem;line-height:1.4;font-weight:400;box-sizing:border-box}span[_ngcontent-%COMP%]{cursor:pointer}input[_ngcontent-%COMP%]{border-top-left-radius:5px;border-bottom-left-radius:5px}input[name=buyFormPrice][_ngcontent-%COMP%]{width:398px!important;text-align:center}select[_ngcontent-%COMP%]{border-top-right-radius:5px;border-bottom-right-radius:5px}.primary-color-bl[_ngcontent-%COMP%]{color:var(--primary-color)}"]}),e})()}];let h=(()=>{class e{}return e.\u0275mod=n.Lb({type:e}),e.\u0275inj=n.Kb({factory:function(t){return new(t||e)},imports:[[c.g.forChild(f)],c.g]}),e})(),g=(()=>{class e{}return e.\u0275mod=n.Lb({type:e}),e.\u0275inj=n.Kb({factory:function(t){return new(t||e)},imports:[[o.b,h,i.q,i.g]]}),e})()}}]);